(this["webpackJsonplocale-frontend"]=this["webpackJsonplocale-frontend"]||[]).push([[0],{34:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var s=a(2),n=a.n(s),c=a(26),o=a.n(c),l=a(9),r=a(4),i=(a(34),a(5)),u=a(3),d=a(6),b=a.n(d),j=a(13),m=a(27),h=function(e){var t=n.a.useState(localStorage.getItem(e)||""),a=Object(u.a)(t,2),s=a[0],c=a[1];return n.a.useEffect((function(){localStorage.setItem(e,s)}),[s]),[s,c]},x=a(1),f=function(e){e.submitLogIn;var t=Object(s.useState)(!1),a=Object(u.a)(t,2),n=a[0],c=a[1],o=h("currentUser"),r=Object(u.a)(o,2),i=r[0],d=r[1],b=h("currentUserRep"),f=Object(u.a)(b,2);f[0],f[1];return Object(s.useEffect)((function(){console.log(i)})),Object(x.jsxs)("header",{className:"bg-red-500 shadow-lg rounded-b-md flex justify-between sticky h-16 top-0 z-10",children:[Object(x.jsxs)("div",{className:"logo flex",children:[Object(x.jsx)("p",{className:"text-3xl self-center text-gray-50 ml-3",children:Object(x.jsx)(m.a,{})}),Object(x.jsx)(l.b,{to:"/",children:Object(x.jsx)("p",{className:"text-gray-50 hover:text-gray-200 cursor-pointer text-6xl font-logo subpixel-antialiased ml-3",children:"Locale"})})]}),Object(x.jsxs)("div",{className:"flex flex-col self-center",children:[Object(x.jsx)("h3",{onClick:function(){c(!n)},className:"text-3xl self-center text-gray-50 hover:text-gray-300 mr-3 cursor-pointer",children:Object(x.jsx)(j.b,{})}),Object(x.jsx)("h3",{className:"text-gray-50 self-center mr-3",children:i&&""+i})]}),Object(x.jsxs)("div",{className:n&&!i?"flex flex-col justify-around items-center login-signup h-44 w-40 bg-gray-50 absolute top-16 right-3 rounded-md shadow-md":"hidden",children:[Object(x.jsx)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:Object(x.jsx)(l.b,{to:"/login",children:"Sign In"})}),Object(x.jsxs)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:[" ",Object(x.jsx)(l.b,{to:"/signup",children:"Sign Up"})]})]}),i&&Object(x.jsxs)("div",{className:n?"flex flex-col justify-around items-center login-signup h-44 w-40 bg-gray-50 absolute top-16 right-3 rounded-md shadow-md":"hidden",children:[Object(x.jsx)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:Object(x.jsx)(l.b,{to:"/login",children:"Profile"})}),Object(x.jsx)("button",{onClick:function(){d(""),localStorage.clear(),c(!n)},className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:"Logout"})]})]})},p=a(28),O=function(){var e=Object(s.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1];return Object(x.jsx)("div",{className:"search-bar",children:Object(x.jsxs)("form",{autoComplete:"off",action:"",className:"search-bar flex justify-center mt-3 relative w-screen",children:[Object(x.jsx)(p.a,{className:a?"absolute top-1.5 left-1/4 text-gray-400":"hidden"}),Object(x.jsx)("input",{id:"search",placeholder:"Search by tag",onKeyPress:function(e){e.target.value?n(!1):n(!0)},className:"rounded-full border border-gray-200 shadow-md w-3/5 text-center focus:outline-none focus:ring-2 focus:ring-blue-400",type:"text"})]})})},g=a(10),w=a(14),v=a(29),y=a(17),N=function(e){var t=e.image,a=e.handleOnClick;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("div",{onClick:a,className:"bg-opacity-80 bg-gray-700 fixed top-14 left-0 w-screen h-screen"}),Object(x.jsx)("div",{className:"w-screen fixed top-36 left-0 flex flex-col justify-center m-auto md:items-center md:top-14",children:Object(x.jsx)("div",{onClick:a,className:"md:w-screen md:flex md:justify-center",children:Object(x.jsx)("img",{src:t,onClick:a,alt:"image-in-modal",className:"md:auto md:h-screen border-t-8 border-b-8 cursor-pointer shadow-2xl"})})})]})},S=function(e){var t=e.post,a=e.handleUpVote,n=e.handleDownVote,c=e.handleImgOnClick,o=e.handleEditOnSubmit,l=e.handlePostOnDelete,r={title:t.title,image:t.image,location:t.location,author:t.author,tags:t.tags,upVotes:t.upVotes,downVotes:t.downVotes},d=Object(s.useState)([]),b=Object(u.a)(d,2),j=b[0],m=b[1],f=Object(s.useState)(!1),p=Object(u.a)(f,2),O=p[0],S=p[1],C=Object(s.useState)(""),k=Object(u.a)(C,2),I=k[0],V=k[1],U=h("currentUser"),z=Object(u.a)(U,2),D=z[0],E=(z[1],Object(s.useState)(!1)),T=Object(u.a)(E,2),F=T[0],P=T[1],L=Object(s.useState)(r),B=Object(u.a)(L,2),A=B[0],G=B[1],R=function(){F||(S(!O),c())},J=function(){P(!F)},K=function(e){G(Object(i.a)(Object(i.a)({},A),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(s.useEffect)((function(){var e,a;!function(e){var t=e.split(";");t.length<5?m(t):m(t.slice(0,5))}(t.tags),e=t.upVotes,a=t.downVotes,e>Math.abs(a)?V("text-green-400"):V("text-red-400")}),[t.tags,t.upVotes,t.downVotes]),Object(x.jsxs)("div",{className:"select-none flex flex-col items-center bg-gray-200 rounded-md mt-2 mb-5 shadow-md w-full md:w-72 border",children:[Object(x.jsx)("img",{onClick:R,className:"object-cover cursor-pointer rounded-tr-md  rounded-tl-md w-full h-64 mb-1",src:t.image,alt:"post"}),!F&&Object(x.jsxs)("div",{className:"bot-bar mt-0.5 bg-white rounded-bl-md rounded-br-md w-full",children:[!D||D!==t.author&&"rob"!==D?null:Object(x.jsx)("h3",{onClick:J,className:"flex flex-row-reverse relative right-2 top-2 -mb-2 cursor-pointer hover:text-gray-700",children:Object(x.jsx)(y.a,{})}),Object(x.jsxs)("div",{className:"title-location flex flex-col items-center pb-2 border-b w-3/4 m-auto",children:[Object(x.jsx)("p",{className:"font-heading antialiased text-lg "+I,children:t.title}),Object(x.jsxs)("p",{className:"flex justify-center items-center gap-2 font-body text-xs text-blue-700 hover:text-blue-900 cursor-pointer",children:[Object(x.jsx)(v.a,{}),t.location]})]}),Object(x.jsxs)("div",{className:"votes-date flex w-full items-center justify-between pl-3 pr-3",children:[Object(x.jsxs)("div",{className:"flex flex-col",children:[Object(x.jsxs)("div",{className:"up flex flex-col items-center",children:[Object(x.jsx)("p",{className:"text-blue-400",children:t.upVotes}),Object(x.jsx)("p",{className:"select-none text-xl flex cursor-pointer shadow hover:text-blue-400",children:Object(x.jsx)(w.b,{onClick:function(){return a(t)}})})]}),Object(x.jsxs)("div",{className:"down flex flex-col items-center",children:[Object(x.jsx)("p",{className:"text-xl cursor-pointer shadow hover:text-red-400",children:Object(x.jsx)(w.a,{onClick:function(){return n(t)}})}),Object(x.jsx)("p",{className:"select-none text-red-400",children:t.downVotes})]})]}),Object(x.jsxs)("div",{className:"tag-container flex flex-row flex-wrap justify-end gap-2 w-3/4",children:[j.map((function(e,t){return Object(x.jsx)("div",{className:"select-none tag bg-blue-100 pl-1 pr-1 shadow-md rounded-sm hover:bg-blue-200 cursor-pointer",children:Object(x.jsx)("p",{children:e})},t)})),O&&Object(x.jsx)(N,{image:t.image,handleOnClick:R})]})]})]}),F&&Object(x.jsxs)("div",{className:"bot-bar mt-0.5 bg-white rounded-bl-md rounded-br-md w-full p-4",children:[Object(x.jsx)("h3",{onClick:J,className:"flex flex-row-reverse relative -mt-2 mb-2 -mr-2 cursor-pointer hover:text-gray-700",children:Object(x.jsx)(y.a,{})}),Object(x.jsxs)("form",{autoComplete:"off",onSubmit:function(e){o(e,t.postId,A),P(!F)},children:[Object(x.jsx)("input",{type:"text",name:"title",className:"text-center bg-gray-200 w-full h-7 rounded-md",placeholder:"Title: Amazing hiking trail",value:A.title,onChange:K}),Object(x.jsx)("input",{type:"text",name:"tags",className:"text-center bg-gray-200 w-full h-7 rounded-md mt-2",placeholder:"Tags (;): sunny;outdoors;texas",value:A.tags,onChange:K}),Object(x.jsx)("button",{onClick:function(){P(!F),l(t.postId)},className:"mt-3 -ml-1 mr-1 h-8 w-1/2 rounded text-gray-50 bg-red-400 hover:bg-red-500 cursor-pointer",children:"Delete"}),Object(x.jsx)("input",{type:"submit",value:"Confirm Edit",className:"mt-3 ml-1 -mr-1 h-8 w-1/2 rounded text-gray-50 bg-yellow-400 hover:bg-yellow-500 cursor-pointer"})]})]})]})},C=function(){var e=h("currentUser"),t=Object(u.a)(e,2),a=t[0];t[1];return Object(x.jsx)("footer",{className:"flex justify-center items-center bg-red-500 rounded-b-md h-14 w-full sticky bottom-0 z-10 shadow-md transform rotate-180",children:a&&Object(x.jsx)(l.b,{to:"/newpost",children:Object(x.jsx)("p",{className:"text-gray-50 text-5xl cursor-pointer hover:text-gray-300",children:Object(x.jsx)(j.a,{})})})})},k=function(){var e=Object(s.useState)([]),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(),o=Object(u.a)(c,2),l=(o[0],o[1],Object(s.useState)()),r=Object(u.a)(l,2),d=(r[0],r[1],Object(s.useState)(!1)),j=Object(u.a)(d,2),m=j[0],h=j[1],p=function(){b.a.get("https://localeapi.azurewebsites.net/api/posts").then((function(e){console.log(e.data),n(e.data)}))},g=function(e){b.a.put("https://localeapi.azurewebsites.net/api/posts/"+e.postId,Object(i.a)(Object(i.a)({},e),{},{upVotes:e.upVotes+1})).then((function(e){p(),console.log(e.data)}))},w=function(e){b.a.put("https://localeapi.azurewebsites.net/api/posts/"+e.postId,Object(i.a)(Object(i.a)({},e),{},{downVotes:e.downVotes-1})).then((function(e){p(),console.log(e.data)}))},v=function(e,t,a){e.preventDefault(),b.a.put("https://localeapi.azurewebsites.net/api/posts/"+t,a).then((function(e){console.log(e),p()})).catch((function(e){console.log(e)}))},y=function(e){b.a.delete("https://localeapi.azurewebsites.net/api/posts/"+e).then((function(e){console.log(e),p()})).catch((function(e){console.log(e)}))},N=function(){h(!m)};return Object(s.useEffect)((function(){p()}),[]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{}),Object(x.jsx)(O,{}),Object(x.jsx)("div",{className:"container flex flex-wrap justify-between md:justify-around w-3/4 h-full m-auto mt-10",children:a.map((function(e){return Object(x.jsx)(S,{post:e,handleUpVote:g,handleImgOnClick:N,handleDownVote:w,handleEditOnSubmit:v,handlePostOnDelete:y},e.postId)}))}),!m&&Object(x.jsx)(C,{})]})},I=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(),o=Object(u.a)(c,2),l=o[0],d=o[1],j=h("currentUser"),m=Object(u.a)(j,2),f=m[0],p=(m[1],Object(s.useState)("")),O=Object(u.a)(p,2),w=O[0],v=O[1],y=Object(s.useState)(""),N=Object(u.a)(y,2),S=N[0],C=N[1],k=Object(s.useState)({title:"",image:"",location:"",author:"",tags:""}),I=Object(u.a)(k,2),V=I[0],U=I[1],z=Object(s.useState)(!1),D=Object(u.a)(z,2),E=D[0],T=D[1],F=Object(s.useState)(!1),P=Object(u.a)(F,2),L=P[0],B=P[1];Object(s.useEffect)((function(){U(Object(i.a)(Object(i.a)({},V),{},{author:f}))}),[f]);var A=function(e){U(Object(i.a)(Object(i.a)({},V),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)(x.Fragment,{children:[a&&Object(x.jsx)("img",{src:a,alt:"post"}),Object(x.jsxs)("div",{className:"flex flex-col items-center bg-blue-100 h-80 w-96 shadow-lg rounded-xl pb-5",children:[Object(x.jsx)("h2",{className:"mt-5 text-2xl font-bold",children:"Share your Locale!"}),Object(x.jsx)("h4",{className:"text-sm font-body",children:"Post a spot worth sharing."}),Object(x.jsxs)("form",{autoComplete:"off",onSubmit:function(e){!function(e){e.preventDefault(),b.a.post("https://localeapi.azurewebsites.net/api/posts",V).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))}(e),setTimeout((function(){B(!L)}),1e3)},className:"flex flex-col items-center h-60 justify-evenly w-full pl-2 pr-2",children:[Object(x.jsx)("input",{type:"text",name:"title",className:"text-center w-full h-7 rounded-md",placeholder:"Title: Amazing hiking trail",value:V.title,onChange:A}),Object(x.jsx)("input",{type:"text",name:"location",placeholder:"Locatation: San Antonio, TX",className:"text-center w-full h-7 rounded-md",value:w,onChange:function(e){v(e.target.value);var t={method:"GET",url:"https://address-completion.p.rapidapi.com/v1/geocode/autocomplete",params:{text:w,limit:"1",lang:"en"},headers:{"x-rapidapi-host":"address-completion.p.rapidapi.com","x-rapidapi-key":"bab3ca2141mshc301a983429a403p166e57jsn91e708738a21"}};w.length>2&&b.a.request(t).then((function(e){console.log(e.data),C(e.data.features[0].properties.address_line1)})).catch((function(e){console.error(e)}))},onKeyDown:function(e){!function(e){"Backspace"==e.key?T(!1):e.key&&T(!0)}(e)}}),Object(x.jsx)("div",{onClick:function(){v(S),U(Object(i.a)(Object(i.a)({},V),{},{location:S})),T(!1)},className:"relative bg-white hover:bg-gray-200 w-full h-7 -mt-4 text-center rounded-b-md cursor-pointer "+(E?"":"hidden"),children:Object(x.jsx)("p",{className:"",children:S})}),Object(x.jsx)("input",{type:"text",name:"tags",placeholder:"Tags (;): sunny;outdoors;texas",className:"w-full text-center h-7 rounded-md",value:V.tags,onChange:A}),Object(x.jsx)("input",{type:"hidden",name:"author",value:f}),a&&Object(x.jsx)("input",{type:"submit",value:"Create Post",className:"mt-3 h-8 w-full rounded text-gray-50 bg-blue-400 hover:bg-blue-500 cursor-pointer"})]}),!a&&Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("file",l),console.log(t),b.a.post("https://localeapi.azurewebsites.net/upload",t).then((function(e){console.log(e.data),n("https://localeapi.azurewebsites.net/upload/"+e.data),U(Object(i.a)(Object(i.a)({},V),{},{image:"https://localeapi.azurewebsites.net/upload/"+e.data}))}))},className:"flex w-full mt-5 select-none",children:[Object(x.jsx)("input",{type:"file",name:"file",onChange:function(e){d(e.target.files[0])},className:"text-sm ml-3"}),Object(x.jsx)("input",{type:"submit",value:"Upload",className:"transition-all bg-blue-400 hover:bg-blue-500 text-gray-50 w-20 rounded-md shadow mr-4 cursor-pointer"})]})]}),L&&Object(x.jsx)(r.a,{to:"/"})]})},V=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{}),Object(x.jsx)("div",{className:"container flex flex-col items-center w-3/4 m-auto mt-5",children:Object(x.jsx)(I,{})})]})},U=function(){var e=Object(s.useState)({username:"",password:""}),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),o=Object(u.a)(c,2),l=o[0],d=o[1],j=Object(s.useState)(""),m=Object(u.a)(j,2),h=m[0],p=m[1],O=function(e){n(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{}),Object(x.jsx)("div",{className:"flex h-screen justify-center mt-10",children:Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("https://localeapi.azurewebsites.net/api/userauth",a).then((function(e){"string"==typeof e.data?d(!0):(localStorage.setItem("currentUser",e.data[0].username),localStorage.setItem("currentUserRep",e.data[0].rep),p(localStorage.getItem("currentUser")))})).catch((function(e){console.log(e),alert("There was an unexpected error!")}))},autoComplete:"off",className:"flex flex-col items-center bg-blue-100 h-64 w-96 shadow-lg rounded-xl",children:[Object(x.jsx)("h3",{className:"mt-5 text-2xl font-bold",children:"Welcome Back!"}),l?Object(x.jsx)("h5",{className:"text-sm font-body text-red-600",children:"Incorrect username or password"}):Object(x.jsx)("h5",{className:"text-sm font-body",children:"Go ahead and login here."}),Object(x.jsx)("div",{className:"mt-5 w-3/4",children:Object(x.jsx)("input",{type:"text",name:"username",placeholder:"Email / Username",onChange:O,value:a.username,className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(x.jsx)("div",{className:"mt-5 w-3/4",children:Object(x.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:O,value:a.password,className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(x.jsx)("input",{type:"submit",value:"Sign in",className:"mt-5 w-3/4 h-8 cursor-pointer rounded-md text-gray-100 font-semibold bg-blue-400 hover:bg-blue-500"})]})}),h&&Object(x.jsx)(r.a,{to:"/"})]})},z=function(){var e=Object(s.useState)({username:"",password:"",rep:0}),t=Object(u.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(""),o=Object(u.a)(c,2),l=o[0],d=o[1],j=function(e){n(Object(i.a)(Object(i.a)({},a),{},Object(g.a)({},e.target.name,e.target.value)))};return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(f,{}),Object(x.jsxs)("div",{className:"flex h-screen justify-center mt-10",children:[Object(x.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("https://localeapi.azurewebsites.net/api/users",a).then((function(e){d(e.data.username),localStorage.setItem("currentUser",l),localStorage.setItem("currentUserRep",e.data.rep)})).catch((function(e){alert("There was an unexpected error!")}))},autoComplete:"off",className:"flex flex-col items-center bg-blue-100 h-64 w-96 shadow-lg rounded-xl",children:[Object(x.jsx)("h3",{className:"mt-5 text-2xl font-bold",children:"Hey There!"}),Object(x.jsx)("h5",{className:"text-sm font-body",children:"Go ahead and sign up here."}),Object(x.jsx)("div",{className:"mt-5 w-3/4",children:Object(x.jsx)("input",{type:"text",name:"username",onChange:j,placeholder:"Email / Username",className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(x.jsx)("div",{className:"mt-5 w-3/4",children:Object(x.jsx)("input",{type:"password",name:"password",onChange:j,placeholder:"Password",className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(x.jsx)("input",{type:"submit",value:"Sign up",className:"mt-5 w-3/4 h-8 cursor-pointer rounded-md text-gray-100 font-semibold bg-blue-400 hover:bg-blue-500"})]}),l&&Object(x.jsx)(r.a,{to:"/"})]})]})},D=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,55)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),c(e),o(e)}))};o.a.render(Object(x.jsx)(n.a.StrictMode,{children:Object(x.jsx)(l.a,{children:Object(x.jsxs)(r.d,{children:[Object(x.jsx)(r.b,{path:"/",element:Object(x.jsx)(k,{})}),Object(x.jsx)(r.b,{path:"/newpost",element:Object(x.jsx)(V,{})}),Object(x.jsx)(r.b,{path:"/login",element:Object(x.jsx)(U,{})}),Object(x.jsx)(r.b,{path:"/signup",element:Object(x.jsx)(z,{})})]})})}),document.getElementById("root")),D()}},[[54,1,2]]]);
//# sourceMappingURL=main.d80c86ad.chunk.js.map