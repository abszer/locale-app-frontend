(this["webpackJsonplocale-frontend"]=this["webpackJsonplocale-frontend"]||[]).push([[0],{32:function(e,t,s){},52:function(e,t,s){"use strict";s.r(t);var c=s(2),n=s.n(c),a=s(25),l=s.n(a),r=s(7),o=s(3),i=(s(32),s(8)),d=s(4),u=s(9),b=s.n(u),j=s(13),m=s(26),x=function(e){var t=n.a.useState(localStorage.getItem(e)||""),s=Object(d.a)(t,2),c=s[0],a=s[1];return n.a.useEffect((function(){localStorage.setItem(e,c)}),[c]),[c,a]},h=s(1),f=function(e){var t=e.submitLogIn,s=Object(c.useState)(!1),n=Object(d.a)(s,2),a=n[0],l=n[1],o=Object(c.useState)(x("currentUser")),i=Object(d.a)(o,2),u=i[0],b=i[1];return Object(h.jsxs)("header",{className:"bg-red-500 shadow-lg flex justify-between sticky h-16 top-0 z-10",children:[Object(h.jsxs)("div",{className:"logo flex",children:[Object(h.jsx)("p",{className:"text-3xl self-center text-gray-50 ml-3",children:Object(h.jsx)(m.a,{})}),Object(h.jsx)(r.b,{to:"/",children:Object(h.jsx)("p",{className:"text-gray-50 hover:text-gray-200 cursor-pointer text-6xl font-logo subpixel-antialiased ml-3",children:"Locale"})})]}),Object(h.jsx)("h3",{onClick:function(){l(!a),console.log(t)},className:"text-3xl self-center text-gray-50 hover:text-gray-300 mr-3 cursor-pointer",children:Object(h.jsx)(j.b,{})}),Object(h.jsxs)("div",{className:a&&!u?"flex flex-col justify-around items-center login-signup h-44 w-40 bg-gray-50 absolute top-16 right-3 rounded-md shadow-md":"hidden",children:[Object(h.jsx)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:Object(h.jsx)(r.b,{to:"/login",children:"Sign In"})}),Object(h.jsxs)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:[" ",Object(h.jsx)(r.b,{to:"/signup",children:"Sign Up"})]})]}),""!==u&&Object(h.jsxs)("div",{className:a&&u?"flex flex-col justify-around items-center login-signup h-44 w-40 bg-gray-50 absolute top-16 right-3 rounded-md shadow-md":"hidden",children:[Object(h.jsx)("button",{className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:Object(h.jsx)(r.b,{to:"/login",children:"Profile"})}),Object(h.jsx)("button",{onClick:function(){b(),localStorage.clear(),localStorage.removeItem("currentUser"),localStorage.removeItem("currentUserRep")},className:"select-none bg-blue-400 hover:bg-blue-500 text-lg text-white font-bold w-3/4 h-1/5 rounded-md",children:"Logout"})]})]})},O=s(27),p=function(){var e=Object(c.useState)(!0),t=Object(d.a)(e,2),s=t[0],n=t[1];return Object(h.jsx)("div",{className:"search-bar",children:Object(h.jsxs)("form",{autoComplete:"off",action:"",className:"search-bar flex justify-center mt-3 relative w-screen",children:[Object(h.jsx)(O.a,{className:s?"absolute top-1.5 left-1/4 text-gray-400":"hidden"}),Object(h.jsx)("input",{id:"search",placeholder:"",onKeyPress:function(e){e.target.value?n(!1):n(!0)},className:"rounded-full border border-gray-200 shadow-md w-3/5 text-center focus:outline-none focus:ring-2 focus:ring-blue-400",type:"text"})]})})},g=s(14),w=function(e){var t=e.image,s=e.handleOnClick;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{onClick:s,className:"bg-opacity-80 bg-gray-700 fixed top-14 left-0 w-screen h-screen"}),Object(h.jsx)("div",{className:"w-screen fixed top-36 left-0 flex flex-col justify-center m-auto md:items-center md:top-14",children:Object(h.jsx)("div",{onClick:s,className:"md:w-screen md:flex md:justify-center",children:Object(h.jsx)("img",{src:t,onClick:s,alt:"image-in-modal",className:"md:auto md:h-screen border-t-8 border-b-8 cursor-pointer shadow-2xl"})})})]})},v=function(e){var t=e.post,s=e.handleUpVote,n=e.handleDownVote,a=e.handleImgOnClick,l=Object(c.useState)([]),r=Object(d.a)(l,2),o=r[0],i=r[1],u=Object(c.useState)(!1),b=Object(d.a)(u,2),j=b[0],m=b[1],x=function(){m(!j),a()};return Object(c.useEffect)((function(){!function(e){var t=e.split(";");t.length<5?i(t):i(t.slice(0,6))}(t.tags)}),[t.tags]),Object(h.jsxs)("div",{className:"select-none flex flex-col items-center bg-gray-50 rounded-md mt-2 mb-5 shadow-md w-full md:w-72 border",children:[Object(h.jsx)("img",{onClick:x,className:"object-cover cursor-pointer rounded-tr-md rounded-tl-md w-full h-64",src:t.image,alt:"post"}),Object(h.jsxs)("div",{className:"bot-bar mt-0.5 bg-white rounded-bl-md rounded-br-md w-full",children:[Object(h.jsxs)("div",{className:"title-location flex flex-col items-center pb-2 border-b w-3/4 m-auto",children:[Object(h.jsx)("p",{className:"font-heading antialiased text-lg text-black",children:t.title}),Object(h.jsx)("p",{className:"font-body text-xs text-gray-700",children:t.location})]}),Object(h.jsxs)("div",{className:"votes-date flex w-full items-center justify-between pl-3 pr-3",children:[Object(h.jsxs)("div",{className:"flex flex-col",children:[Object(h.jsxs)("div",{className:"up flex flex-col items-center",children:[Object(h.jsx)("p",{className:"text-blue-400",children:t.upVotes}),Object(h.jsx)("p",{className:"select-none text-xl flex cursor-pointer hover:text-blue-400",children:Object(h.jsx)(g.b,{onClick:function(){return s(t)}})})]}),Object(h.jsxs)("div",{className:"down flex flex-col items-center",children:[Object(h.jsx)("p",{className:"text-xl cursor-pointer hover:text-red-400",children:Object(h.jsx)(g.a,{onClick:function(){return n(t)}})}),Object(h.jsx)("p",{className:"select-none text-red-400",children:t.downVotes})]})]}),Object(h.jsxs)("div",{className:"tag-container flex flex-row flex-wrap justify-end gap-2 w-3/4",children:[o.map((function(e,t){return Object(h.jsx)("div",{className:"select-none tag bg-blue-100 pl-1 pr-1 shadow-md rounded-sm hover:bg-blue-200 cursor-pointer",children:Object(h.jsx)("p",{children:e})},t)})),j&&Object(h.jsx)(w,{image:t.image,handleOnClick:x})]})]})]})]})},N=function(){return Object(h.jsx)("footer",{className:"flex justify-center items-center bg-red-500 h-14 w-full sticky bottom-0 z-10 shadow-md transform rotate-180",children:Object(h.jsx)(r.b,{to:"/newpost",children:Object(h.jsx)("p",{className:"text-gray-50 text-6xl cursor-pointer hover:text-gray-300",children:Object(h.jsx)(j.a,{})})})})},y=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(x("currentUser")),l=Object(d.a)(a,2),r=(l[0],l[1],Object(c.useState)(x("currentUserRep"))),o=Object(d.a)(r,2),u=(o[0],o[1],Object(c.useState)(!1)),j=Object(d.a)(u,2),m=j[0],O=j[1],g=function(){b.a.get("https://localeapi.azurewebsites.net/api/posts").then((function(e){console.log(e.data),n(e.data)}))},w=function(e){b.a.put("https://localeapi.azurewebsites.net/api/posts/"+e.postId,Object(i.a)(Object(i.a)({},e),{},{upVotes:e.upVotes+1})).then((function(e){g(),console.log(e.data)}))},y=function(e){b.a.put("https://localeapi.azurewebsites.net/api/posts/"+e.postId,Object(i.a)(Object(i.a)({},e),{},{downVotes:e.downVotes-1})).then((function(e){g(),console.log(e.data)}))},S=function(){O(!m)};return Object(c.useEffect)((function(){g()}),[]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)(p,{}),Object(h.jsx)("div",{className:"container flex flex-wrap justify-between md:justify-around w-3/4 h-full m-auto mt-10",children:s.map((function(e){return Object(h.jsx)(v,{post:e,handleUpVote:w,handleImgOnClick:S,handleDownVote:y},e.postId)}))}),!m&&Object(h.jsx)(N,{})]})},S=function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)("form",{children:Object(h.jsx)("input",{type:"text",placeholder:"Need user auth first"})})})},C=function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"container flex flex-col items-center w-3/4 m-auto mt-5",children:Object(h.jsx)(S,{})})]})},I=s(10),k=function(){var e=Object(c.useState)({username:"",password:""}),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(!1),l=Object(d.a)(a,2),r=l[0],u=l[1],j=Object(c.useState)(""),m=Object(d.a)(j,2),x=m[0],O=m[1],p=function(e){n(Object(i.a)(Object(i.a)({},s),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsx)("div",{className:"flex h-screen justify-center mt-10",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("https://localeapi.azurewebsites.net/api/userauth",s).then((function(e){"string"==typeof e.data?u(!0):(localStorage.setItem("currentUser",e.data[0].username),localStorage.setItem("currentUserRep",e.data[0].rep),O(localStorage.getItem("currentUser")))})).catch((function(e){console.log(e),alert("There was an unexpected error!")}))},autoComplete:"off",className:"flex flex-col items-center bg-blue-100 h-64 w-96 shadow-lg rounded-xl",children:[Object(h.jsx)("h3",{className:"mt-5 text-2xl font-bold",children:"Welcome Back!"}),r?Object(h.jsx)("h5",{className:"text-sm font-body text-red-600",children:"Incorrect username or password"}):Object(h.jsx)("h5",{className:"text-sm font-body",children:"Go ahead and login here."}),Object(h.jsx)("div",{className:"mt-5 w-3/4",children:Object(h.jsx)("input",{type:"text",name:"username",placeholder:"Email / Username",onChange:p,value:s.username,className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(h.jsx)("div",{className:"mt-5 w-3/4",children:Object(h.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:p,value:s.password,className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(h.jsx)("input",{type:"submit",value:"Sign in",className:"mt-5 w-3/4 h-8 cursor-pointer rounded-md text-gray-100 font-semibold bg-blue-400 hover:bg-blue-500"})]})}),x&&Object(h.jsx)(o.a,{to:"/"})]})},U=function(){var e=Object(c.useState)({username:"",password:"",rep:0}),t=Object(d.a)(e,2),s=t[0],n=t[1],a=Object(c.useState)(""),l=Object(d.a)(a,2),r=l[0],u=l[1],j=function(e){n(Object(i.a)(Object(i.a)({},s),{},Object(I.a)({},e.target.name,e.target.value)))};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(f,{}),Object(h.jsxs)("div",{className:"flex h-screen justify-center mt-10",children:[Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),b.a.post("https://localeapi.azurewebsites.net/api/users",s).then((function(e){u(e.data.username),localStorage.setItem("currentUser",r),localStorage.setItem("currentUserRep",e.data.rep)})).catch((function(e){alert("There was an unexpected error!")}))},autoComplete:"off",className:"flex flex-col items-center bg-blue-100 h-64 w-96 shadow-lg rounded-xl",children:[Object(h.jsx)("h3",{className:"mt-5 text-2xl font-bold",children:"Hey There!"}),Object(h.jsx)("h5",{className:"text-sm font-body",children:"Go ahead and sign up here."}),Object(h.jsx)("div",{className:"mt-5 w-3/4",children:Object(h.jsx)("input",{type:"text",name:"username",onChange:j,placeholder:"Email / Username",className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(h.jsx)("div",{className:"mt-5 w-3/4",children:Object(h.jsx)("input",{type:"password",name:"password",onChange:j,placeholder:"Password",className:"rounded-md h-8 w-full pl-3 focus:outline-none focus:ring-2 focus:ring-blue-400"})}),Object(h.jsx)("input",{type:"submit",value:"Sign up",className:"mt-5 w-3/4 h-8 cursor-pointer rounded-md text-gray-100 font-semibold bg-blue-400 hover:bg-blue-500"})]}),r&&Object(h.jsx)(o.a,{to:"/"})]})]})},F=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,53)).then((function(t){var s=t.getCLS,c=t.getFID,n=t.getFCP,a=t.getLCP,l=t.getTTFB;s(e),c(e),n(e),a(e),l(e)}))};l.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(r.a,{children:Object(h.jsxs)(o.d,{children:[Object(h.jsx)(o.b,{path:"/",element:Object(h.jsx)(y,{})}),Object(h.jsx)(o.b,{path:"/newpost",element:Object(h.jsx)(C,{})}),Object(h.jsx)(o.b,{path:"/login",element:Object(h.jsx)(k,{})}),Object(h.jsx)(o.b,{path:"/signup",element:Object(h.jsx)(U,{})})]})})}),document.getElementById("root")),F()}},[[52,1,2]]]);
//# sourceMappingURL=main.288d140d.chunk.js.map